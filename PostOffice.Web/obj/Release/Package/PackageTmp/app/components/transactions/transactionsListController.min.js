(function(n){function t(n,t,i,r,u,f,e){function o(n){r.confirm("Bạn có chắc muốn xóa?").then(function(){var r={params:{id:n}};t.del("/api/transactions/delete",r,function(){i.displaySuccess("Giao dịch đã được khóa");f.reload()},function(){i.displayError("Cập nhật thất bại")})},function(){console.log("Command was cancel")})}function s(){getTransactions()}n.loading=!0;n.page=0;n.pagesCount=0;n.transactions=[];n.keyword="";n.search=s;n.deleteTransaction=o;n.getTransactionsIn30Days=function(r){r=r||0;var u={params:{page:r,pageSize:40}};n.loading=!0;t.get("/api/transactions/getall30days",u,function(t){t.data.TotalCount==0&&i.displayWarning("Chưa có dữ liệu");n.transactions=[];n.transactions=t.data.Items;n.page=t.data.Page;n.pagesCount=t.data.TotalPages;n.totalCount=t.data.TotalCount;console.log(t.data.Count);n.loading=!1},function(){n.loading=!1;console.log("Load transactions failed")})};n.getTransactionsIn7Days=function(r){r=r||0;var u={params:{page:r,pageSize:40}};n.loading=!0;t.get("/api/transactions/getall7days",u,function(t){t.data.TotalCount==0&&i.displayWarning("Chưa có dữ liệu");n.transactions=[];n.transactions=t.data.Items;n.page=t.data.Page;n.pagesCount=t.data.TotalPages;n.totalCount=t.data.TotalCount;console.log(t.data.Count);n.loading=!1},function(){n.loading=!1;console.log("Load transactions failed")})};n.currentDate=new Date;n.getTransactions=function(r){r=r||0;var u={params:{page:r,pageSize:40}};n.loading=!0;t.get("/api/transactions/getall",u,function(t){t.data.TotalCount==0&&i.displayWarning("Chưa có dữ liệu");n.transactions=t.data.Items;n.page=t.data.Page;n.pagesCount=t.data.TotalPages;n.totalCount=t.data.TotalCount;console.log(t.data.Count);n.loading=!1},function(){n.loading=!1;console.log("Load transactions failed")})};n.authentication=e.authentication;var a=n.authentication.userName;const h=1728e5;n.editEnabled=function(n){return(new Date).getTime()-new Date(n.TransactionDate).getTime()>h}}n.controller("transactionsListController",t);t.$inject=["$scope","apiService","notificationService","$ngBootbox","$filter","$state","authService"]})(angular.module("postoffice.transactions"));