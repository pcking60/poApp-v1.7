(function(n){function t(n,t,i,r,u,f,e){function o(){t.get("/api/transactions/getbyid/"+u.id,null,function(r){e(function(){},200);n.transaction=r.data;t.get("/api/transactiondetails/getbytransactionid/"+n.transaction.ID,null,function(t){e(function(){n.transaction.TransactionDetails=t.data},200)},function(n){i.displayError(n.data)})},function(n){i.displayError(n.data)})}function s(){$("#datetimepicker1").find("input").val()==null||$("#datetimepicker1").find("input").val()==""||(n.transaction.TransactionDate=$("#datetimepicker1").find("input").val());t.put("/api/transactions/update",n.transaction,function(){i.displaySuccess("Cập nhật thành công");r.go("transactions",{},{reload:!0})},function(){i.displayError("Cập nhật thất bại");r.go("transactions")})}n.transaction={TransactionDetails:[],Service:null};n.EditTransaction=s;o()}n.controller("transactionEditController",t);t.$inject=["$scope","apiService","notificationService","$state","$stateParams","commonService","$timeout"]})(angular.module("postoffice.transactions"));