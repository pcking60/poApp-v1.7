/**
 * State-based routing for AngularJS
 * @version v0.4.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function b(n,t){return u(new(u(function(){},{prototype:n})),t)}function nt(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function ti(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function v(n){if(Object.keys)return Object.keys(n);var t=[];return f(n,function(n,i){t.push(i)}),t}function c(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1}function ut(n,t,i,r){var o=ti(i,r),f,h={},l=[],s,e;for(s in o)if(o[s]&&o[s].params&&(f=v(o[s].params),f.length))for(e in f)c(l,f[e])>=0||(l.push(f[e]),h[f[e]]=n[f[e]]);return u({},h,t)}function ii(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function k(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function ft(n){var t={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return f(i,function(i){i in n&&(t[i]=n[i])}),t}function d(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)c(r,t)==-1&&(i[t]=n[t]);return i}function tt(n,t){var r=a(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function p(n,t){var i=a(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function w(n){return n.then(i,function(){})&&n}function et(n,t){var h=1,l=2,o={},a=[],y=o,p=u(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function it(n,i){if(g[i]!==l){if(k.push(i),g[i]===h){k.splice(0,c(k,i));throw new Error("Cyclic dependency: "+k.join(" -> "));}if(g[i]=h,e(n))b.push(i,[function(){return t.get(n)}],a);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&it(o[n],n)});b.push(i,n,r)}k.pop();g[i]=l}}function rt(n){return s(n)&&n.then&&n.$$promises}if(!s(o))throw new Error("'invocables' must be an object");var tt=v(o||{}),b=[],k=[],g={};return f(o,it),o=k=g=null,function(e,o,h){function k(){--et||(ut||nt(l,o.$$values),c.$$values=l,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,g.resolve(l))}function it(n){c.$$failure=n;g.reject(n)}function ot(i,u,o){function y(n){s.reject(n);it(n)}function p(){if(!r(c.$$failure))try{s.resolve(t.invoke(u,h,l));s.promise.then(function(n){l[i]=n;k()},y)}catch(n){y(n)}}var s=n.defer(),a=0;f(o,function(n){v.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(a++,v[n].then(function(t){l[n]=t;--a||p()},y))});a||p();v[i]=w(s.promise)}var a,ft;if(rt(e)&&h===i&&(h=o,o=e,e=null),e){if(!s(e))throw new Error("'locals' must be an object");}else e=y;if(o){if(!rt(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=p;var g=n.defer(),c=w(g.promise),v=c.$$promises={},l=u({},e),et=1+b.length/3,ut=!1;if(w(c),r(o.$$failure))return it(o.$$failure),c;for(o.$$inheritedValues&&nt(l,d(o.$$inheritedValues,tt)),u(v,o.$$promises),o.$$values?(ut=nt(l,d(o.$$values,tt)),c.$$inheritedValues=d(o.$$values,tt),k()):(o.$$inheritedValues&&(c.$$inheritedValues=d(o.$$inheritedValues,tt)),o.then(k,it)),a=0,ft=b.length;a<ft;a+=3)e.hasOwnProperty(b[a])?k():ot(b[a],b[a+1],b[a+2]);return c}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ri(){var n=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){n=!!t};this.$get=["$http","$templateCache","$injector",function(t,i,r){return new ui(t,i,r,n)}]}function ui(n,t,i,u){this.fromConfig=function(n,t,i){return r(n.template)?this.fromString(n.template,t):r(n.templateUrl)?this.fromUrl(n.templateUrl,t):r(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return o(n)?n(t):n};this.fromUrl=function(r,f){return o(r)&&(r=r(f)),r==null?null:u?n.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data}):i.get("$templateRequest")(r)};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function y(n,t,r){function nt(t,i,r,u){if(g.push(t),d[t])return d[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(w[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return w[t]=new l.Param(t,i,r,u),w[t]}function tt(n,t,i,r){var u=["",""],f=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return f;switch(i){case!1:u=["(",")"+(r?"?":"")];break;case!0:f=f.replace(/\/$/,"");u=["(?:/(",")|/)?"];break;default:u=["("+i+"|",")?"]}return f+u[0]+t+u[1]}function it(r,u){var e,f,s,h,c;return e=r[2]||r[3],c=t.params[e],s=n.substring(o,r.index),f=u?r[4]:r[4]||(r[1]=="*"?".*":null),f&&(h=l.type(f)||b(l.type("string"),{pattern:new RegExp(f,t.caseInsensitive?"i":i)})),{id:e,regexp:f,segment:s,type:h,cfg:c}}var f,h,e,c,k;t=u({params:{}},s(t)?t:{});var v=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,a,p=this.segments=[],d=r?r.params:{},w=this.params=r?r.params.$$new():new l.ParamSet,g=[];for(this.source=n;a=v.exec(n);){if(f=it(a,!1),f.segment.indexOf("?")>=0)break;h=nt(f.id,f.type,f.cfg,"path");y+=tt(f.segment,h.type.pattern.source,h.squash,h.isOptional);p.push(f.segment);o=v.lastIndex}if(e=n.substring(o),c=e.indexOf("?"),c>=0){if(k=this.sourceSearch=e.substring(c),e=e.substring(0,c),this.sourcePath=n.substring(0,o+c),k.length>0)for(o=0;a=rt.exec(k);)f=it(a,!0),h=nt(f.id,f.type,f.cfg,"search"),o=v.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=tt(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=g}function h(n){u(this,n)}function ot(){function rt(n){return n!=null?n.toString().replace(/(~|\/)/g,function(n){return{"~":"~~","/":"~2F"}[n]}):n}function ht(n){return n!=null?n.toString().replace(/(~~|~2F)/g,function(n){return{"~~":"~","~2F":"/"}[n]}):n}function ct(){return{strict:g,caseInsensitive:d}}function et(n){return o(n)||a(n)&&o(n[n.length-1])}function st(){while(it.length){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],w.invoke(i.def))}}function k(n){u(this,n||{})}l=this;var d=!1,g=!0,nt=!1;var n={},ut=!0,it=[],w,ft={string:{encode:rt,decode:ht,is:function(n){return n==null||!r(n)||typeof n=="string"},pattern:/[^/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return n!==i&&n!==null&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return parseInt(n,10)!==0},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};ot.$$getDefaultValue=function(n){if(!et(n.value))return n.value;if(!w)throw new Error("Injectable functions cannot be called at configuration time");return w.invoke(n.value)};this.caseInsensitive=function(n){return r(n)&&(d=n),d};this.strictMode=function(n){return r(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!r(n))return nt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return nt=n,n};this.compile=function(n,t){return new y(n,u(ct(),t))};this.isMatcher=function(n){if(!s(n))return!1;var t=!0;return f(y.prototype,function(i,u){o(i)&&(t=t&&r(n[u])&&o(n[u]))}),t};this.type=function(t,i,f){if(!r(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new h(u({name:t},i)),f&&(it.push({name:t,def:f}),ut||st()),this};f(ft,function(t,i){n[i]=new h(u({name:i},t))});n=b(n,{});this.$get=["$injector",function(t){return w=t,ut=!1,st(),f(ft,function(t,i){n[i]||(n[i]=new h(t))}),this}];this.Param=function(f,o,l,y){function rt(n){var t=s(n)?v(n):[],i=c(t,"value")===-1&&c(t,"type")===-1&&c(t,"squash")===-1&&c(t,"array")===-1;return i&&(n={value:n}),n.$$fn=et(n.value)?n.value:function(){return n.value},n}function ut(i,r,u){if(i.type&&r)throw new Error("Param '"+f+"' has two type configurations.");return r?r:i.type?t.isString(i.type)?n[i.type]:i.type instanceof h?i.type:new h(i.type):u==="config"?n.any:n.string}function ft(){var n={array:y==="search"?"auto":!1},t=f.match(/\[\]$/)?{array:!0}:{};return u(n,t,l).array}function ot(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!r(i)||i==null)return nt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function st(n,t,r,u){var f,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=a(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=p(f,function(n){return n.from}),tt(s,function(n){return c(o,n.from)===-1}).concat(f)}function ht(){if(!w)throw new Error("Injectable functions cannot be called at configuration time");var n=w.invoke(l.$$fn);if(n!==null&&n!==i&&!k.type.is(n))throw new Error("Default value ("+n+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return n}function ct(n){function t(n){return function(t){return t.from===n}}function i(n){var i=p(tt(k.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),r(n)?k.type.$normalize(n):ht()}function lt(){return"{Param:"+f+" "+o+" squash: '"+g+"' optional: "+d+"}"}var k=this,b;l=rt(l);o=ut(l,o,y);b=ft();o=b?o.$asArray(b,y==="search"):o;o.name!=="string"||b||y!=="path"||l.value!==i||(l.value="");var d=l.value!==i,g=ot(l,d),it=st(l,b,d,g);u(this,{id:f,type:o,location:y,array:b,squash:g,replace:it,isOptional:d,value:ct,dynamic:i,config:l,toString:lt})};k.prototype={$$new:function(){return b(this,u(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=v(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(v(n),function(n){c(t,n)===-1&&c(r,n)===-1&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){for(var e=this.$$keys(),r,f,o,s,u=0;u<e.length;u++){if(r=this[e[u]],f=n[e[u]],(f===i||f===null)&&r.isOptional)break;if((o=r.type.$normalize(f),!r.type.is(o))||(s=r.type.encode(o),t.isString(s)&&!r.type.pattern.exec(s)))return!1}return!0},$$parent:i};this.ParamSet=k}function st(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return t!=null?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t[i==="$"?0:Number(i)]})}function v(n,t,i){if(!i)return!1;var u=n.invoke(t,t,{$match:i});return r(u)?u:!0}function y(r,u,f,o,a){function k(n,t,i){return y==="/"?n:t?y.slice(0,-1)+n:i?y.slice(1)+n:n}function w(n){function u(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var c,o,t;if(!n||!n.defaultPrevented){for(c=v&&r.url()===v,v=i,o=s.length,t=0;t<o;t++)if(u(s[t]))return;h&&u(h)}}function b(){return c=c||u.$on("$locationChangeSuccess",w)}var y=o.baseHref(),p=r.url(),v;return l||b(),{sync:function(){w()},listen:function(){return b()},update:function(n){if(n){p=r.url();return}r.url()!==p&&(r.url(p),r.replace())},push:function(n,t,u){var f=n.format(t||{});f!==null&&t&&t["#"]&&(f+="#"+t["#"]);r.url(f);v=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),o=o&&a.history,e=i.format(u),f=f||{},o||e===null||(e="#"+n.hashPrefix()+e),e!==null&&u&&u["#"]&&(e+="#"+u["#"]),e=k(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=s===80||s===443?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var s=[],h=null,l=!1,c;this.rule=function(n){if(!o(n))throw new Error("'rule' must be a function");return s.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!o(n))throw new Error("'rule' must be a function");return h=n,this};this.when=function(n,t){var i,r=e(t),c,s,h;if(e(n)&&(n=f.compile(n)),!r&&!o(t)&&!a(t))throw new Error("invalid 'handler' in when()");c={matcher:function(n,t){return r&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),u(function(i,r){return v(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(i=t,t=["$match",function(n){return w(i,n)}]),u(function(i,r){return v(i,t,n.exec(r.path()))},{prefix:p(n)})}};s={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(h in s)if(s[h])return this.rule(c[h](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);l=n};this.$get=y;y.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function ht(n,h){function ht(n){return n.indexOf(".")===0||n.indexOf("^")===0}function nt(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=ht(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=nt(t);for(var r=u.split("."),f=0,l=r.length,o=t;f<l;f++){if(r[f]===""&&f===0){o=t;continue}if(r[f]==="^"){if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent;continue}break}r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return(s=it[u],s&&(h||!h&&(s===n||s.self===n)))?s:i}function ct(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function lt(n){for(var t=rt[n]||[];t.length;)et(t.shift())}function et(t){var i,u,r;if(t=b(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(it.hasOwnProperty(i))throw new Error("State '"+i+"' is already defined");if(u=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:s(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!it[u])return ct(u,t.self);for(r in d)o(d[r])&&(t[r]=d[r](t,d.$delegates[r]));return it[i]=t,!t[ot]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){y.$current.navigable==t&&ii(n,i)||y.transitionTo(t,n,{inherit:!0,location:!1})}]),lt(i),t}function at(n){return n.indexOf("*")>-1}function vt(n){for(var t=n.split("."),i=y.$current.name.split("."),r=0,u=t.length;r<u;r++)t[r]==="*"&&(i[r]="*");return(t[0]==="**"&&(i=i.slice(c(i,t[1])),i.unshift("**")),t[t.length-1]==="**"&&(i.splice(c(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)?!1:i.join("")===t.join("")}function yt(n,t){return e(n)&&!r(t)?d[n]:!o(t)||!e(n)?this:(d[n]&&!d.$delegates[n]&&(d.$delegates[n]=d[n]),d[n]=t,this)}function pt(n,t){return s(n)?t=n:t.name=n,et(t),this}function st(n,h,c,l,d,rt,ft){function yt(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(ft.update(),ht):e.retry?u.$retry?(ft.update(),ct):(f=y.transition=h.when(e.retry),f.then(function(){return f!==y.transition?(n.$broadcast("$stateChangeCancel",t.to,t.toParams,i,r),et):(t.options.$retry=!0,y.transitionTo(t.to,t.toParams,t.options))},function(){return ht}),ft.update(),f):null}function pt(n,i,r,u,e,s){function w(){var i=[];return f(n.views,function(r,u){var f=r.resolve&&r.resolve!==n.resolve?r.resolve:{};f.$template=[function(){return c.load(u,{view:r,locals:e.globals,params:y,notify:s.notify})||""}];i.push(d.resolve(f,e.globals,e.resolve,n).then(function(i){if(o(r.controllerProvider)||a(r.controllerProvider)){var s=t.extend({},f,e.globals);i.$$controller=l.invoke(r.controllerProvider,null,s)}else i.$$controller=r.controller;i.$$state=n;i.$$controllerAs=r.controllerAs;i.$$resolveAs=r.resolveAs;e[u]=i}))}),h.all(i).then(function(){return e.globals})}var y=r?i:k(n.params.$$keys(),i),p={$stateParams:y},v;return e.resolve=d.resolve(n.resolve,p,e.resolve,n),v=[e.resolve.then(function(n){e.globals=n})],u&&v.push(u),h.all(v).then(w).then(function(){return e})}var st=new Error("transition superseded"),et=w(h.reject(st)),lt=w(h.reject(new Error("transition prevented"))),ht=w(h.reject(new Error("transition aborted"))),ct=w(h.reject(new Error("transition failed")));return tt.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:tt.self,$current:tt,transition:null},y.reload=function(n){return y.transitionTo(y.current,rt,{reload:n||!0,inherit:!1,notify:!0})},y.go=function(n,t,i){return y.transitionTo(n,t,u({inherit:!0,relative:y.$current},i))},y.transitionTo=function(t,i,f){var vt,ni,ti,gt,bt,ht;i=i||{};f=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var a=y.$current,v=y.params,at=a.path,ii,p=nt(t,f.relative),kt=i["#"];if(!r(p)){if(vt={to:t,toParams:i,options:f},ni=yt(vt,a.self,v,f),ni)return ni;if(t=vt.to,i=vt.toParams,f=vt.options,p=nt(t,f.relative),!r(p)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(p[ot])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=ut(rt,i||{},y.$current,p)),!p.params.$$validates(i))return ct;i=p.params.$$values(i);t=p;var d=t.path,c=0,o=d[c],it=tt.locals,dt=[];if(f.reload){if(e(f.reload)||s(f.reload)){if(s(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");if(ti=f.reload===!0?at[0]:nt(f.reload),f.reload&&!ti)throw new Error("No such reload state '"+(e(f.reload)?f.reload:f.reload.name)+"'");while(o&&o===at[c]&&o!==ti)it=dt[c]=o.locals,c++,o=d[c]}}else while(o&&o===at[c]&&o.ownParams.$$equals(i,v))it=dt[c]=o.locals,c++,o=d[c];if(wt(t,i,a,v,it,f))return kt&&(i["#"]=kt),y.params=i,g(y.params,rt),g(k(t.params.$$keys(),rt),t.locals.globals.$stateParams),f.location&&t.navigable&&t.navigable.url&&(ft.push(t.navigable.url,i,{$$avoidResync:!0,replace:f.location==="replace"}),ft.update(!0)),y.transition=null,h.when(y.current);if(i=k(t.params.$$keys(),i||{}),kt&&(i["#"]=kt),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,a.self,v,f).defaultPrevented)return n.$broadcast("$stateChangeCancel",t.self,i,a.self,v),y.transition==null&&ft.update(),lt;for(gt=h.when(it),bt=c;bt<d.length;bt++,o=d[bt])it=dt[bt]=b(it),gt=pt(o,i,o===t,gt,it,f);return ht=y.transition=gt.then(function(){var r,u,e;if(y.transition!==ht)return n.$broadcast("$stateChangeCancel",t.self,i,a.self,v),et;for(r=at.length-1;r>=c;r--)e=at[r],e.self.onExit&&l.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=c;r<d.length;r++)u=d[r],u.locals=dt[r],u.self.onEnter&&l.invoke(u.self.onEnter,u.self,u.locals.globals);return y.transition!==ht?(n.$broadcast("$stateChangeCancel",t.self,i,a.self,v),et):(y.$current=t,y.current=t.self,y.params=i,g(y.params,rt),y.transition=null,f.location&&t.navigable&&ft.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:f.location==="replace"}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,a.self,v),ft.update(!0),y.current)}).then(null,function(r){return r===st?et:y.transition!==ht?(n.$broadcast("$stateChangeCancel",t.self,i,a.self,v),et):(y.transition=null,ii=n.$broadcast("$stateChangeError",t.self,i,a.self,v,r),ii.defaultPrevented||ft.update(),h.reject(r))}),w(ht),ht},y.is=function(n,t,f){f=u({relative:y.$current},f||{});var e=nt(n,f.relative);return r(e)?y.$current!==e?!1:!t||v(t).reduce(function(n,i){var r=e.params[i];return n&&!r||r.type.equals(rt[i],t[i])},!0):i},y.includes=function(n,t,f){var o,c,s,h,l;if(f=u({relative:y.$current},f||{}),e(n)&&at(n)){if(!vt(n))return!1;n=y.$current.name}if(o=nt(n,f.relative),!r(o))return i;if(!r(y.$current.includes[o.name]))return!1;if(!t)return!0;for(c=v(t),s=0;s<c.length;s++)if(h=c[s],l=o.params[h],l&&!l.type.equals(rt[h],t[h]))return!1;return v(t).reduce(function(n,i){var r=o.params[i];return n&&!r||r.type.equals(rt[i],t[i])},!0)},y.href=function(n,t,f){var e,o;return(f=u({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},f||{}),e=nt(n,f.relative),!r(e))?null:(f.inherit&&(t=ut(rt,t||{},y.$current,e)),o=e&&f.lossy?e.navigable:e,!o||o.url===i||o.url===null)?null:ft.href(o.url,k(e.params.$$keys().concat("#"),t||{}),{absolute:f.absolute})},y.get=function(n,t){if(arguments.length===0)return p(v(it),function(n){return it[n].self});var i=nt(n,t||y.$current);return i&&i.self?i.self:null},y}function wt(n,t,i,r,u,f){function e(n,t,i){function r(t){return n.params[t].location!="search"}var u=n.params.$$keys().filter(r),f=ft.apply({},[n.params].concat(u)),e=new l.ParamSet(f);return e.$$equals(t,i)}if(!f.reload&&n===i&&(u===i.locals||n.self.reloadOnSearch===!1&&e(i,r,t)))return!0}var tt,it={},y,rt={},ot="abstract",d={parent:function(n){if(r(n.parent)&&n.parent)return nt(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?nt(t[1]):tt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=b(n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return t.charAt(0)=="^"?h.compile(t.substring(1),i):(n.parent.navigable||tt).url.concat(t,i);if(!t||h.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new l.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new l.Param(i,null,n,"config"))}),t},params:function(n){var t=ft(n.ownParams,n.ownParams.$$keys());return n.parent&&n.parent.params?u(n.parent.params.$$new(),t):new l.ParamSet},views:function(n){var t={};return f(r(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);i.resolveAs=i.resolveAs||n.resolveAs||"$resolve";t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?u({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};tt=et({name:"",url:"^",views:null,abstract:!0});tt.navigable=null;this.decorator=yt;this.state=pt;this.$get=st;st.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function ct(){function n(n,t){return{load:function(n,i){var r;return i=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function fi(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){return i(function(){n[0].scrollIntoView()},0,!1)}}]}function lt(n,i,r,u,f){function h(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function c(n,i){var u=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},r;return e?{enter:function(n,i,r){t.version.minor>2?e.enter(n,null,i).then(r):e.enter(n,null,i,r)},leave:function(n,i){t.version.minor>2?e.leave(n).then(i):e.leave(n,i)}}:o?(r=o&&o(i,n),{enter:function(n,t,i){r.enter(n,null,t);i()},leave:function(n,t){r.leave(n);t()}}):u()}var s=h(),o=s("$animator"),e=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,e,o){return function(i,e,s){function k(){if(a&&(a.remove(),a=null),h&&(h.$destroy(),h=null),l){var n=l.data("$uiViewAnim");p.leave(l,function(){n.$$animLeave.resolve();a=null});a=l;l=null}}function w(c){var w,a=vt(i,s,e,u),g=a&&n.$current&&n.$current.locals[a],d;(c||g!==y)&&(w=i.$new(),y=n.$current.locals[a],w.$emit("$viewContentLoading",a),d=o(w,function(n){var u=f.defer(),o=f.defer(),s={$animEnter:u.promise,$animLeave:o.promise,$$animLeave:o};n.data("$uiViewAnim",s);p.enter(n,e,function(){u.resolve();h&&h.$emit("$viewContentAnimationEnded");(t.isDefined(v)&&!v||i.$eval(v))&&r(n)});k()}),l=d,h=w,h.$emit("$viewContentLoaded",a),h.$eval(b))}var a,l,h,y,b=s.onload||"",v=s.autoscroll,p=c(s,i),d=e.inheritedData("$uiView");i.$on("$stateChangeSuccess",function(){w(!1)});w(!0)}}}}function at(n,i,r,u){return{restrict:"ECA",priority:-400,compile:function(f){var e=f.html();return f.empty?f.empty():f[0].innerHTML=null,function(f,s,h){var v=r.$current,y=vt(f,h,s,u),c=v&&v.locals[y],a,p,l;if(!c){s.html(e);n(s.contents())(f);return}s.data("$uiView",{name:y,state:c.$$state});s.html(c.$template?c.$template:e);a=t.extend({},c);f[c.$$resolveAs]=a;p=n(s.contents());c.$$controller&&(c.$scope=f,c.$element=s,l=i(c.$$controller,c),c.$$controllerAs&&(f[c.$$controllerAs]=l,f[c.$$controllerAs][c.$$resolveAs]=a),o(l.$onInit)&&l.$onInit(),s.data("$ngControllerController",l),s.children().data("$ngControllerController",l));p(f)}}}}function vt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function yt(n,t){var r=n.match(/^\s*({[^}]*})\s*$/),i;if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||i.length!==4)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function pt(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function wt(n){var i=Object.prototype.toString.call(n.prop("href"))==="[object SVGAnimatedString]",t=n[0].nodeName==="FORM";return{attr:t?"action":i?"xlink:href":"href",isAnchor:n.prop("tagName").toUpperCase()==="A",clickable:!t}}function bt(n,t,i,r,u){return function(f){var h=f.which||f.button,e=u(),o,s;h>1||f.ctrlKey||f.metaKey||f.shiftKey||n.attr("target")||(o=i(function(){t.go(e.state,e.params,e.options)}),f.preventDefault(),s=r.isAnchor&&!e.href?1:0,f.preventDefault=function(){s--<=0&&i.cancel(o)})}}function ei(n,t){return{relative:pt(n)||t.$current,inherit:!0}}function kt(n,i){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,f,e,o){var h=yt(e.uiSref,n.current.name),s={state:h.state,href:null,params:null},c=wt(f),y=o[1]||o[0],l=null,a,v;(s.options=u(ei(f,n),e.uiSrefOpts?r.$eval(e.uiSrefOpts):{}),v=function(i){i&&(s.params=t.copy(i));s.href=n.href(h.state,s.params,s.options);l&&l();y&&(l=y.$$addStateInfo(h.state,s.params));s.href!==null&&e.$set(c.attr,s.href)},h.paramExpr&&(r.$watch(h.paramExpr,function(n){n!==s.params&&v(n)},!0),s.params=t.copy(r.$eval(h.paramExpr))),v(),c.clickable)&&(a=bt(f,n,i,c,function(){return s}),f[f.on?"on":"bind"]("click",a),r.$on("$destroy",function(){f[f.off?"off":"unbind"]("click",a)}))}}}function dt(n,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,u,f){function a(t){e.state=t[0];e.params=t[1];e.options=t[2];e.href=n.href(e.state,e.params,e.options);s&&s();c&&(s=c.$$addStateInfo(e.state,e.params));e.href&&u.$set(o.attr,e.href)}var o=wt(r),c=f[1]||f[0],v=[u.uiState,u.uiStateParams||null,u.uiStateOpts||null],l="["+v.map(function(n){return n||"null"}).join(", ")+"]",e={state:null,params:null,options:null,href:null},s=null,h;(i.$watch(l,a,!0),a(i.$eval(l)),o.clickable)&&(h=bt(r,n,t,o,function(){return e}),r[r.on?"on":"bind"]("click",h),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",h)}))}}}function it(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,u,o){function y(t,i,u){var o=n.get(t,pt(r)),f=b(t,i),e={state:o||{name:t},params:i,hash:f};return h.push(e),l[f]=u,function(){var n=h.indexOf(e);n!==-1&&h.splice(n,1)}}function b(n,i){if(!e(n))throw new Error("state should be a string");return s(i)?n+rt(i):(i=t.$eval(i),s(i))?n+rt(i):n}function v(){for(var n=0;n<h.length;n++)k(h[n].state,h[n].params)?p(r,l[h[n].hash]):w(r,l[h[n].hash]),d(h[n].state,h[n].params)?p(r,a):w(r,a)}function p(n,t){o(function(){n.addClass(t)})}function w(n,t){n.removeClass(t)}function k(t,i){return n.includes(t.name,i)}function d(t,i){return n.is(t.name,i)}var h=[],l={},a,c;a=i(u.uiSrefActiveEq||"",!1)(t);try{c=t.$eval(u.uiSrefActive)}catch(g){}c=c||i(u.uiSrefActive||"",!1)(t);s(c)&&f(c,function(i,r){if(e(i)){var u=yt(i,n.current.name);y(u.state,t.$eval(u.paramExpr),r)}});this.$$addStateInfo=function(n,t){if(!s(c)||!(h.length>0)){var i=y(n,t,c);return v(),i}};t.$on("$stateChangeSuccess",v);v()}]}}function gt(n){var t=function(t,i){return n.is(t,i)};return t.$stateful=!0,t}function ni(n){var t=function(t,i,r){return n.includes(t,i,r)};return t.$stateful=!0,t}var r=t.isDefined,o=t.isFunction,e=t.isString,s=t.isObject,a=t.isArray,f=t.forEach,u=t.extend,g=t.copy,rt=t.toJson,l;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);et.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",et);t.module("ui.router.util").provider("$templateFactory",ri);y.prototype.concat=function(n,t){var i={caseInsensitive:l.caseInsensitive(),strict:l.strictMode(),squash:l.defaultSquashPolicy()};return new y(this.sourcePath+n+this.sourceSearch,u(i,t),this)};y.prototype.toString=function(){return this.source};y.prototype.exec=function(n,t){function v(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/g,"-")}var r=t(n).split(/-(?!\\)/),u=p(r,t);return p(u,i).reverse()}var h=this.regexp.exec(n),u,i;if(!h)return null;t=t||{};var c=this.parameters(),a=c.length,l=this.segments.length-1,s={},o,f,e;if(l!==h.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;o<l;o++){for(e=c[o],u=this.params[e],i=h[o+1],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);i&&u.array===!0&&(i=v(i));r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}for(;o<a;o++){for(e=c[o],s[e]=this.params[e].value(t[e]),u=this.params[e],i=t[e],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}return s};y.prototype.parameters=function(n){return r(n)?this.params[n]||null:this.$$paramNames};y.prototype.validates=function(n){return this.params.$$validates(n)};y.prototype.format=function(n){function nt(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,b,k;n=n||{};var h=this.segments,c=this.parameters(),d=this.params;if(!this.validates(n))return null;for(var l=!1,v=h.length-1,g=c.length,i=h[0],r=0;r<g;r++){var tt=r<v,o=c[r],u=d[o],y=u.value(n[o]),w=u.isOptional&&u.type.equals(u.value(),y),f=w?u.squash:!1,t=u.type.encode(y);if(tt)s=h[r+1],b=r+1===v,f===!1?(t!=null&&(i+=a(t)?p(t,nt).join("-"):encodeURIComponent(t)),i+=s):f===!0?(k=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(k)[1]):e(f)&&(i+=f+s),b&&u.squash===!0&&i.slice(-1)==="/"&&(i=i.slice(0,-1));else{if(t==null||w&&f!==!1)continue;if(a(t)||(t=[t]),t.length===0)continue;t=p(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};h.prototype.is=function(){return!0};h.prototype.encode=function(n){return n};h.prototype.decode=function(n){return n};h.prototype.equals=function(n,t){return n==t};h.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};h.prototype.pattern=/.*/;h.prototype.toString=function(){return"{Type:"+this.name+"}"};h.prototype.$normalize=function(n){return this.is(n)?n:this.decode(n)};h.prototype.$asArray=function(n,t){function u(n,t){function u(n,t){return function(){return n[t].apply(n,arguments)}}function e(n){return a(n)?n:r(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return t==="auto"?n[0]:n;default:return n}}function s(n){return!n}function f(n,t){return function(i){if(a(i)&&i.length===0)return i;i=e(i);var r=p(i,n);return t===!0?tt(r,s).length===0:o(r)}}function h(n){return function(t,i){var u=e(t),f=e(i),r;if(u.length!==f.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],f[r]))return!1;return!0}}this.encode=f(u(n,"encode"));this.decode=f(u(n,"decode"));this.is=f(u(n,"is"),!0);this.equals=h(u(n,"equals"));this.pattern=n.pattern;this.$normalize=f(u(n,"$normalize"));this.name=n.name;this.$arrayMode=t}if(!n)return this;if(n==="auto"&&!t)throw new Error("'auto' array mode is for query parameters only");return new u(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ot);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);st.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",st);ht.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",ht).run(["$injector",function(n){n.get("$state.runtime").autoinject&&n.get("$state")}]);ct.$inject=[];t.module("ui.router.state").provider("$view",ct);t.module("ui.router.state").provider("$uiViewScroll",fi);lt.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"];at.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",lt);t.module("ui.router.state").directive("uiView",at);kt.$inject=["$state","$timeout"];dt.$inject=["$state","$timeout"];it.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",kt).directive("uiSrefActive",it).directive("uiSrefActiveEq",it).directive("uiState",dt);gt.$inject=["$state"];ni.$inject=["$state"];t.module("ui.router.state").filter("isState",gt).filter("includedByState",ni)}(window,window.angular);